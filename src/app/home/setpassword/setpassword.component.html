<app-navigation></app-navigation>

<h1 class="text-center mt-5"> Jelszó beállítása</h1>

<div class="d-flex justify-content-center mt-5">
    <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()">
        <div>
            <label class="pe-2 pb-2 col-6">Felhasználónév: </label>
            <input class="col-6" type="text" value="{{ this.username }}" disabled>
        </div>
        <div>
            <label class="pe-2 pb-2 col-6">Email:</label>
            <input class="col-6" type="text" value=" {{ this.email }}" disabled>
        </div>
        <div>
          <label class="pe-2 pb-2 col-6" for="password1">Jelszó:</label>
          <input class="col-6" id="password1" type="password" formControlName="password1">
          <div *ngIf="passwordForm.controls['password1'].invalid && (passwordForm.controls['password1'].dirty || passwordForm.controls['password1'].touched)">
            <div *ngIf="passwordForm.controls['password1'].errors?.required" class="text-danger">
              Jelszó mező kitöltése kötelező.
            </div>
            <div *ngIf="passwordForm.controls['password1'].errors?.minlength" class="text-danger">
                A jelszónak minimum 8 karakternek kell lennie.
            </div>
          </div>
        </div>
        <div>
          <label class="pe-2 pb-2 col-6" for="password2">Jelszó megerősítése:</label>
          <input class="col-6" id="password2" type="password" formControlName="password2">
          <div *ngIf="passwordForm.controls['password2'].invalid && (passwordForm.controls['password2'].dirty || passwordForm.controls['password2'].touched)">
            <div *ngIf="passwordForm.controls['password2'].errors?.required" class="text-danger">
                A jelszó megerősítése mező kitöltése kötelező.
            </div>
            <div *ngIf="passwordForm.controls['password2'].errors?.minlength" class="text-danger">
                A jelszó megerősítésnek minimum 8 karakternek kell lennie.
            </div>
          </div>
        </div>
        <div *ngIf="passwordForm.errors?.mismatch && (passwordForm.controls['password2'].dirty || passwordForm.controls['password2'].touched)" class="text-danger">
            A jelszavak nem egyeznek.
        </div>
        <button mat-raised-button color="primary" class="mt-2" type="submit" [disabled]="passwordForm.invalid">Jelszó beállítás</button>
      </form>
</div>
